\chapter{Implementation and Test Instances}


\section{Kernel Search}
The code provided during the course implements a generic kernel search
which uses GUROBI as solver, and has the following default paramenters:
\begin{itemize}
    \item Presolve = 2 (aggressive presolve)
    \item Time limit = 30 seconds
    \item Threads = 12
    \item MIPGap = \num{1e-12}
    \item Sort variables by profit and reduced cost
    \item Kernel size = 15\% of the number of variables (rounded to the nearest integer)
    \item Bucket size = 2.5\% of the number of variables (rounded to the nearest integer)
    \item Number of iterations = 2
    \item Time limit for each bucket = 5 seconds
\end{itemize}
The code was initially modified to implement the MKP model, and it was then
refactored to improve its quality and efficiency.
The algorithm itself and the parameters were not changed at this time.\\
The code along with extensive documentation can be found at
\url{https://github.com/Golino98/KernelSearchGolinoCottiBeatrice}.


\section{Test Instances}
The test instances for the MKP were kindly provided to us by the authors of~\cite{mkp:2019}.\\
There are in total 2100 test instances, organized in
five directories of increasing complexity:
\begin{itemize}
    \item SMALL
    \item FK\_1
    \item FK\_2
    \item FK\_3
    \item FK\_4
\end{itemize}
SMALL contains 180 instances, while FK\_1, FK\_2, FK\_3, FK\_4 contain 480 instances each.
The instances in the first three directories were already solved to the optimum.
Of those in the last two folders only a few were already solved: the unsolved
ones only had an upper and lower bound.

For most of the instances without the exact solution, we were able to
find the exact using an exact GUROBI solver, with the following configuration:
\begin{itemize}
    \item Presolve = 2 (aggressive presolve)
    \item Time limit = 90 hours
    \item Threads = 12
    \item MIPGap = \num{1e-12}
\end{itemize}

The code can be found at \url{https://github.com/Golino98/ProgettoTestingPorzioniCodiceKernelSearch}

To simplify the testing of the changes to the kernel search algorithm,
we only considered 40 instances: 6 for each directory,
plus 10 that couldn't be solved to the optimum.

Tables~\ref{tab:exact_opt} and~\ref{tab:exact_noopt} represent,
respectively, the optimum values of the 30 instances solved to
the optimum, and the upper and lower bound for the 10
that couldn't be solved.

\input{tables/exact_opt.tex}
\input{tables/exact_noopt.tex}


\section{Performance of the default kernel search}


\section{Performance of random variable sorting}
